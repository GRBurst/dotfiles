# Add new user
useradd -m -g users -G wheel -s /bin/bash [username]
passwd [username]

# Install sudo & zsh
pacman -S sudo

# Allow user to sudo by uncommenting:
visudo
-> %wheel ALL=(ALL) ALL

# logout of system
# login with new user

# Disable root
sudo passwd -l root

# Login as user
export SUDO_EDITOR=rvim

# Set max size of journal logfiles
sudoedit /etc/systemd/journald.conf
-> SystemMaxUse=100M

# Uncomment in pacman conf and install yaourt
sudoedit /etc/pacman.conf
-> [multilib]
-> Include = /etc/pacman.d/mirrorlist

-> [archlinuxfr]
-> SigLevel = PackageOptional
-> Server = https://repo.archlinux.fr/$arch

pacman -Syu yaourt

# Install missing firmware modulen
yaourt -S wd719x-firmware aic94xx-firmware

# Install dotfile manager and grsecurity
yaourt -S stow etckeeper linux-grsec

sudoedit /boot/loader/entries/arch-grsec.conf
-> LINUX ../vmlinuz-linux-grsec
-> INITRD ../initramfs-linux-grsec.img
# Create further entries

# Set loader option
vim /boot/loader/loader.conf
-> timeout 1
-> default arch-grsec

# reboot to grsec

# Setup etckeeper
sudo systemctl enable etckeeper.timer
sudoedit /etc/etckeeper/commit.d/50vcs-commit
-> git gc # Add after git commit

sudo etckeeper init
cd /etc
sudo git status
sudo git commit -m "Initial checkin"
sudo git gc

# Get dotfiles
cd ~/
git clone https://github.com/GRBurst/dotfiles.git

# AUR vote
yaourt -S aurvote
aurvote --configure

# Install stuff
yaourt -S zsh cope-git fasd

mkdir -p .zsh
cd .zsh
git clone https://github.com/tarjoilija/zgen.git

zsh

# Graphics
y -S xorg-server xorg-xinit xorg-server-utils xorg-utils
y -S nvidia-grsec
y -S nvidia-libgl lib32-nvidia-libgl

y -S i3
y -S rofi
y -S termite
y -S redshift
y -S npm
y -S downgrade

vim ~/.bash_profile
-> [[ -z $DISPLAY && $XDG_VTNR -eq 1 ]] && exec startx

cd dotfiles
stow i3
stow i3status
stow xserver
stow bin
stow networkmanager
stow npm
stow termite
stow redshift
stow vim

# reboot

# Neo keyboard
localectl --no-convert set-x11-keymap de thinkpad neo

# Install disk tools
yaourt -S gvfs gvfs-mtp gvfs-smb
yaourt -S ntfs-3g

yaourt -S xdg-user-dirs xdg-utils

# Install applications
yaourt -S nemo nemo-fileroller nemo-preview nemo-seahorse nemo-share
-> gsettings set org.nemo.desktop show-desktop-icons false
-> gsettings set org.cinnamon.desktop.default-applications.terminal exec termite

yaourt -S keepass xdotool xsel

# Sound
yaourt -S pulseaudio pulseaudio-alsa
yaourt -S pasystray
yaourt -S paman pavucontrol pavumeter paprefs pacmixer
# unmute with pacmixer

# xserver, background
yaourt -S feh
feh --bg-scale "$HOME/.i3/background0.jpg" "$HOME/.i3/background1.jpg"

# Setup keepass-dmenu (https://github.com/gustavnikolaj/keepass-dmenu)
yaourt -S crypto++
yaourt -S npm
npm install -g keepass-dmenu

# Setup Network Manange
yaourt -S networkmanager
yaourt -S networkmanager-openvpn networkmanager-vpnc
yaourt -S network-manager-applet
# Network manager dmenu yaourt -S network
yaourt -S networkmanager-dmenu-git

systemctl disable netctl-ifplugd@.service
systemctl disable dhcpcd@.service
systemctl enable NetworkManager.service
systemctl start NetworkManager.service

# Notifications
yaourt -S notify-osd

# Gnome Keyring
yaourt -S gnome-keyring seahorse
# Create keyring Login with login-pw

# Compositor
yaourt -S compton
cd ~/dotifles && stow compton && cd -

# Conversations with pidgin
yaourt -S pidgin
yaourt -S pidgin-gnome-keyring
yaourt -S pidgin-encryption pidgin-otr
yaourt -S pidgin-libnotify pidgin-opensteamworks purple-facebook purple-skypeweb-git
# Enable plugins

# Hide mouse after some seconds
yaourt -S unclutter
vim ~/.i3/common/start.sh
-> unclutter &

# Locate for arch
yaourt -S mlocate
sudo updatedb

# Package analyzer
yaourt -S namcap
yaourt -S pkgfile

# Setup owncloud with encryption
yaourt -S owncloud-client

# SSH
yaourt -S openssh
# ssh-keygen -t rsa -b 4096 -C "$(whoami)@$(hostname)-$(date -I)"
# scp ~/.ssh/id_rsa.pub username@server:
# cat ~/id_*.pub >> ~/.ssh/authorized_keys
# rm ~/id_*.pub

# Anti-virus
yaourt -S clamav
sudo freshclam
sudo systemctl enable clamd.service
sudo systemctl enable freshclamd.service

# Dropbox for enryted backups
yaourt -S dropbox nemo-dropbox

# Backup tools
yaourt -S rsync

# Fonts
# Add infinality repos
sudo dirmngr < /dev/null
# Check key first!!
sudo pacman-key -r 962DDE58
sudo pacman-key -f 962DDE58
sudo pacman-key --lsign-key 962DDE58
sudo rvim /etc/pacman.conf
-> [infinality-bundle]
-> Server = http://bohoomil.com/repo/$arch
-> [infinality-bundle-multilib]
-> Server = http://bohoomil.com/repo/multilib/$arch
-> [infinality-bundle-fonts]
-> Server = http://bohoomil.com/repo/fonts

y -Sy
y -S infinality-bundle
y -S infinality-bundle-multilib

mkdir -p .config/fontconfig/conf.d
ln -s /etc/fonts/conf.avail.infinality/10-base-rendering.conf ~/.config/fontconfig/conf.d

# Java
#y -S jre8-openjdk
y -S jre8-openjdk-infinality

# Misc
yaourt -S tree htop
yaourt -S xcwd-git
yaourt -S gksu
yaourt -S meld
yaourt -S strace
yaourt -S jxplorer
y -S pkgcacheclean cmake clang

# E-Mail: Thunderbird
yaourt -S thunderbird
-> Plugins: Lightning, Enigmail, Conversations

# Timeout after 3 failed login attempts
vim /etc/pam.d/system-login
    auth required pam_tally.so deny=2 unlock_time=600 onerr=succeed file=/var/log/faillog
    #auth required pam_tally.so onerr=succeed file=/var/log/faillog

#copy bin folder, projects, ...

# Container
# Link scripts
# allow sudo mount
# create folder in /mnt
# link folder appropriate#

# Firefox
y -S firefox
# Install plugins
# Firefox ramdisk
y -S profile-sync-daemon

# Libre office
y -S libreoffice-still
y -S libreoffice-still-de
y -S hunspell hunspell-en hunspell-de
y -S hyphen hyphen-en hyphen-de
y -S libmythes mythes-en mythes-de
y -S languagetool libreoffice-extension-languagetool

# Virtualbox
y -S virtualbox virtualbox-host-dkms vboxhost-hook virtualbox-ext-oracle
vim /etc/mkinitcpio.conf
    HOOKS="... vboxhost"
mkinitcpio -p linux-grsec
sudo gpasswd -a $USER vboxusers
sudo rvim /etc/modules-load.d/virtualbox.conf
    vboxdrv








